/*

/////    CoLoR PaRsLeY  ?? ??  a simple set of color parsing thingies!
/////           Beta 0.1.0   Revision date: Jan 5, 2022
/////
/////    Functions to parse color values and return array
/////    Copyright © 2019-2022 by Andrew Somers. All Rights Reserved.
/////    LICENSE: AGPL 3
/////    CONTACT: Please use the ISSUES or DISCUSSIONS tab at:
/////    https://github.com/Myndex/colorparsley/
/////
///////////////////////////////////////////////////////////////////////////////
/////
/////    IMPORT:
/////    import { colorParsley } from 'colorparsley';
/////
/////    let rgbaArray = colorParsley('#abcdef');
/////
/////    Output as array:  [r,g,b,a,isValid,colorspace]
/////    Example: [123,123,123,1.0,true,'sRGB']
// */
function colorParsley(a){if("string"===typeof a)return parseString(a);if("number"===typeof a)return[(a&16711680)>>16,(a&65280)>>8,a&255,"",!0,"unknown"];if("object"===typeof a){if(Array.isArray(a))return a;if(a.r||a.red){var d=[0,0,0,"",!1,"unknown"];d[0]=a.r?a.r:a.red?a.red:0;d[1]=a.g?a.g:a.green?a.green:0;d[2]=a.b?a.b:a.blue?a.blue:0;d[3]=a.a?a.a:a.alpha?a.alpha:"";d[4]=!0;return d}}console.log("colorParsley error: invalid input");return[0,0,0,"",!1,"inputError"]}
function parseString(a){a=(void 0===a?"#abcdef":a).replace(/[^\w,.#%()\/ -]/g,"");this.isValid=!1;this.type="sRGB";if(a.match(/^(?:(?!rgb|l.h|hs.|#).+)(?=[G-Z])/i)){a=a.toLowerCase();var d={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",
cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",
dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",
lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",
mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",
saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",gray1:"111111",gray2:"222222",gray3:"333333",gray4:"444444",gray5:"555555",
gray6:"666666",gray7:"777777",gray8:"888888",gray9:"999999",graya:"aaaaaa",grayb:"bbbbbb",grayc:"cccccc",grayd:"dddddd",graye:"eeeeee",grey1:"111111",grey2:"222222",grey3:"333333",grey4:"444444",grey5:"555555",grey6:"666666",grey7:"777777",grey8:"888888",grey9:"999999",greya:"aaaaaa",greyb:"bbbbbb",greyc:"cccccc",greyd:"dddddd",greye:"eeeeee"},e;for(e in d)if(a==e){a=d[e];break}}var b=[0,0,0,"",this.isValid,this.type];d={rex:/^(?:rgba?|)\(?\s?(?:(25[0-5]|2[0-4]\d|1?\d{1,2})(?:, ?| ))(?:(25[0-5]|2[0-4]\d|1?\d{1,2})(?:, ?| )(?:(25[0-5]|2[0-4]\d|1?\d{1,2}))(?:(?:,| ?\/)\s?(?:(100%|\d?\d%|[01]?\.\d{1,22}|[01])))? ?\)?)?(?!\S)|^(?:#|0x|)(?:(?:([\da-f])([\da-f])([\da-f])([\da-f])?)(?!\S)|(?:([\da-f]{2})(?:([\da-f]{2})([\da-f]{2})([\da-f]{2})?)?))(?!\S)|^(?:([^r\d\W][a-z]{2,5})\(?\s?((?:\d{1,2}\.|\.|)\d+%?)(?:, ?| )((?:\d{1,2}\.|\.|)\d+%?)(?:, ?| )((?:\d{1,2}\.|\.|)\d+%?)(?:(?:,| ?\/) ?((?:\d{1,2}\.|\.|)\d+%?))?)\s?\)?/i,
parsley:function(c){var g=0,f=0,h=10,n=100;for(k=1;k<c.length;k++)c[k]&&(g=g?g:k,f=k);switch(f){case 9:h=16;case 1:b[0]=b[1]=b[2]=parseInt(c[f],h);break;case 12:h=16,n=255;case 4:b[3]=c[f].match(/%/g)||12==f?parseInt(c[f],h)/n:parseFloat(c[f]);case 11:h=11==f?16:h;case 3:for(i=0;3>i;i++)b[i]=parseInt(c[g+i],h);break;case 8:n=15,b[3]=parseInt(c[f]+c[f],16)/n;case 7:h=16;for(i=0;3>i;i++)b[i]=parseInt(c[g+i]+c[g+i],h);break;case 17:b[3]=c[f].match(/%/g)?parseInt(c[f],h)/n:parseFloat(c[f]);case 16:b[5]=
c[g];for(i=0;3>i;i++)g++,b[i]=c[g]?c[g].match(/%/g)?parseInt(c[g])/100:parseFloat(c[g]):1;if(b[5].match(/^(?:hsla?|hwba?)/i)){c=function(p){p=(p+r/30)%12;return q-t*Math.min(q,1-q)*Math.max(-1,Math.min(p-3,9-p,1))};var r=b[0]%360;0>r&&(r+=360);if(b[5].match(/^hsla?/i)){var t=b[1];var q=b[2];var l=0;var m=1}else if(b[5].match(/^hwba?/i)){l=b[1];m=b[2];if(1<=l+m){b[0]=b[1]=b[2]=l/(l+m);b[5]="sRGB";break}t=1;q=.5;m=1-l-m}b[0]=Math.round(255*(c(0)*m+l));b[1]=Math.round(255*(c(8)*m+l));b[2]=Math.round(255*
(c(4)*m+l));b[5]="sRGB"}}}};if(a=d.rex.exec(a))return this.isValid=!0,d.parsley(a),b[4]=!0,b;this.isValid=!1;console.log("colorParsley error: unable to parse string");return[0,0,0,"",this.isValid,"parsleyError"]}
function colorToHex(a){a=void 0===a?[0,0,0,""]:a;var d=a[0].toString(16).padStart(2,"0"),e=a[1].toString(16).padStart(2,"0"),b=a[2].toString(16).padStart(2,"0"),c=""==a[3]||1==a[3]?"":Math.round(255*a[3]).toString(16).padStart(2,"0");return 0==a[0]%17&&0==a[1]%17&&0==a[2]%17&&""==c?d.charAt(0)+e.charAt(0)+b.charAt(0):d+e+b+c}function colorToRGB(a){a=void 0===a?[0,0,0,""]:a;return""==a[3]||1==a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"}
function hslToRgb(a,d,e){function b(c){c=(c+a/30)%12;return e-d*Math.min(e,1-e)*Math.max(-1,Math.min(c-3,9-c,1))}a%=360;0>a&&(a+=360);d/=100;e/=100;return[b(0),b(8),b(4)]}function hwbToRgb(a,d,e){d/=100;e/=100;if(1<=d+e)return d/=d+e,[d,d,d];a=hslToRgb(a,100,50);for(var b=0;3>b;b++)a[b]*=1-d-e,a[b]+=d;return a}module.exports={colorParsley:colorParsley,colorToHex:colorToHex,colorToRGB:colorToRGB};